<!DOCTYPE html>
<html>

<head>
	<title>getAV</title>
	<meta charset="utf-8">
	<style>
		body {
			background-color: #2c2c31;
		}

		.custom-button {
			width: 100px;
			font-size: 20px;

		}
	</style>
</head>

<body>
	<center>
		<h3 style="color: green;">tasklist /svc</h3><br>
		<textarea style="width: 800px; height: 341px;" id="content"></textarea><br><br>
		<input type="submit" class="custom-button" value="查询" onclick="getAVName();"><br>
		<div id="result" style="color: red;font-size: 18px;"></div>
	</center>

	<script src="./avlist.js"></script>
	<script>
		function getAVName() {
			var tasklist = document.getElementById('content').value;
			var re = new RegExp("(.*?)\.exe", "g");
			var tasks = tasklist.match(re);
			var result = document.getElementById('result');
			var htmlContent = "";
			for (i = 0; i < Object.keys(avList).length; i++) {
				var taskid = Object.keys(avList)[i];
				for (x = 0; x < tasks.length; x++) {
					if (taskid.toLowerCase() == tasks[x].toLowerCase()) {
						htmlContent += taskid + " <=> " + avList[taskid] + "<br>";
					}
				}
			}
			result.innerHTML = htmlContent;
		}

	</script>
</body>

</html>